<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Commerce Career Quiz</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">
  <div class="max-w-xl mx-auto p-6">
    <div class="bg-white rounded-2xl shadow-xl p-6 relative mb-6">
      <div id="progressBar" class="h-2 bg-blue-500 transition-all duration-300 rounded-full" style="width: 0%"></div>
      <div id="counter" class="absolute top-4 right-6 text-sm text-gray-600"></div>
      <button id="startBtn" class="w-full py-3 bg-blue-600 text-white text-lg rounded-xl hover:bg-blue-700 transition">Start Quiz</button>
      <form id="quiz" class="hidden space-y-10"></form>
    </div>

    <div id="result" class="text-gray-800"></div>
  </div>

  <script>
    const quizData = [
      { q: "Which task excites you most in a business setup?", type: "choice", options: ["Crunching numbers", "Designing marketing campaigns", "Leading a team", "Understanding legal documents"], field: "multi" },
      { q: "Rate your interest in analyzing financial data (0–10)", type: "slider", field: "finance" },
      { q: "Do you enjoy thinking of catchy slogans or ad ideas?", type: "boolean", field: "marketing" },
      { q: "How confident are you in resolving conflicts between team members? (0–10)", type: "slider", field: "hr" },
      { q: "Which would you choose for a college competition?", type: "choice", options: ["Debate on legal policies", "Business plan presentation", "Digital branding challenge", "Finance case study"], field: "multi" },
      { q: "True or False: I like staying updated with business laws.", type: "boolean", field: "law" },
      { q: "Rate your leadership and decision-making skills (0–10)", type: "slider", field: "hr" },
      { q: "Would you like to work in a high-paced stock trading environment?", type: "boolean", field: "finance" },
      { q: "How often do you use tools like Canva, Excel, or social media analytics? (0–10)", type: "slider", field: "marketing" },
      { q: "Are you someone who likes reading about current policies, rules or laws?", type: "boolean", field: "law" },
    ];

    const scores = { finance: 0, marketing: 0, hr: 0, law: 0, general: 0 };

    const form = document.getElementById("quiz");
    const resultEl = document.getElementById("result");
    const progressBar = document.getElementById("progressBar");
    const counter = document.getElementById("counter");
    const startBtn = document.getElementById("startBtn");

    startBtn.onclick = () => {
      startBtn.style.display = "none";
      form.style.display = "block";
      loadQuestions();
    };

    function loadQuestions() {
      quizData.forEach((item, index) => {
        const qWrapper = document.createElement("div");
        qWrapper.className = "bg-gray-50 p-4 rounded-xl shadow";

        const qTitle = document.createElement("h3");
        qTitle.className = "text-lg font-semibold mb-3";
        qTitle.textContent = `Q${index + 1}. ${item.q}`;
        qWrapper.appendChild(qTitle);

        if (item.type === "boolean") {
          ["Yes", "No"].forEach(val => {
            const label = document.createElement("label");
            label.className = "block mb-2";
            label.innerHTML = `<input type="radio" name="q${index}" value="${val === "Yes" ? 1 : 0}" class="mr-2"> ${val}`;
            qWrapper.appendChild(label);
          });
        } else if (item.type === "choice") {
          item.options.forEach((opt, idx) => {
            const label = document.createElement("label");
            label.className = "block mb-2";
            label.innerHTML = `<input type="radio" name="q${index}" value="${idx}" class="mr-2"> ${opt}`;
            qWrapper.appendChild(label);
          });
        } else if (item.type === "slider") {
          const input = document.createElement("input");
          input.type = "range";
          input.min = 0;
          input.max = 10;
          input.value = 5;
          input.name = `q${index}`;
          input.className = "w-full mb-2";
          qWrapper.appendChild(input);
        }

        form.appendChild(qWrapper);
      });

      const submitBtn = document.createElement("button");
      submitBtn.textContent = "Submit";
      submitBtn.className = "w-full py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition mt-6";
      submitBtn.onclick = (e) => {
        e.preventDefault();
        evaluateQuiz();
      };
      form.appendChild(submitBtn);
    }

    function evaluateQuiz() {
      const inputs = form.elements;
      quizData.forEach((item, index) => {
        const val = inputs[`q${index}`].value;
        const value = parseInt(val);
        const field = item.field;

        if (field === "multi") {
          if (value === 0) scores.law++;
          else if (value === 1) scores.general++;
          else if (value === 2) scores.marketing++;
          else if (value === 3) scores.finance++;
        } else {
          scores[field] += value;
        }
      });

      showResult();
    }

    function showResult() {
      form.style.display = "none";
      progressBar.style.width = '100%';
      counter.textContent = `${quizData.length} / ${quizData.length}`;

      const topFields = Object.entries(scores)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 3)
        .map(([field]) => field);

      const packages = {
        finance: "₹6–12 LPA (Source: Naukri, 2024)",
        marketing: "₹5–10 LPA (Source: AmbitionBox, 2024)",
        hr: "₹4–8 LPA (Source: Glassdoor, 2024)",
        law: "₹5–9 LPA (Source: Indeed, 2024)",
        general: "₹4–10 LPA depending on specialization"
      };

      const careers = {
        finance: "Chartered Accountant, Investment Banker, Financial Analyst",
        marketing: "Brand Manager, Digital Marketer, Market Researcher",
        hr: "HR Manager, Talent Acquisition, Organizational Consultant",
        law: "Corporate Lawyer, Compliance Officer, Legal Advisor",
        general: "Entrepreneur, Management Consultant, Business Analyst"
      };

      const avatars = {
        finance: "📊",
        marketing: "🎨",
        hr: "🤝",
        law: "⚖️",
        general: "💼"
      };

      resultEl.innerHTML = `
        <div class="bg-white p-6 rounded-xl shadow-xl space-y-4">
          <h2 class="text-2xl font-bold">🎯 Your Top 3 Suggested Commerce Career Paths:</h2>
          <ol class="list-decimal list-inside space-y-2">
            ${topFields.map(field => `
              <li><strong class="text-blue-600">${avatars[field]} ${field.toUpperCase()}</strong><br>
                🚀 Careers: ${careers[field]}<br>
                💰 Avg Salary: ${packages[field]}</li>
            `).join('')}
          </ol>
          <p class="text-sm text-gray-600">✨ Ready to explore these career paths? Consider internships, online courses, or mentorship in these areas!</p>
          <button onclick="location.reload()" class="w-full py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition">🔁 Restart Quiz</button>
        </div>
      `;
    }
  </script>
</body>

</html>
