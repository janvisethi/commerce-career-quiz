<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Commerce Career Quiz</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">
  <div class="max-w-xl mx-auto p-6">
    <div class="bg-white rounded-2xl shadow-xl p-6 relative mb-6">
      <div id="progressBar" class="h-2 bg-blue-500 transition-all duration-300 rounded-full" style="width: 0%"></div>
      <div id="counter" class="absolute top-4 right-6 text-sm text-gray-600"></div>
      <div class="text-center mb-4">
        <h1 class="text-xl font-bold text-blue-700">🌟 Discover Your Commerce Superpower!</h1>
        <p class="text-sm text-gray-600">Take this fun quiz to find out where your natural strengths align in the vast world of commerce — from finance to fintech!</p>
      </div>
      <button id="startBtn" class="w-full py-3 bg-blue-600 text-white text-lg rounded-xl hover:bg-blue-700 transition">Start Quiz</button>
      <form id="quiz" class="hidden space-y-10"></form>
    </div>

    <div id="result" class="text-gray-800"></div>
  </div>

  <script>
    const quizData = [
      { q: "What part of learning excites you most?", type: "choice", options: ["Solving real-world money problems", "Using technology to simplify tasks"], field: "multi" },
      { q: "Which activity would you enjoy more?", type: "choice", options: ["Balancing a budget or accounts", "Analyzing app usage data or payment trends"], field: "multi" },
      { q: "What kind of content do you consume more?", type: "choice", options: ["How to save or invest smartly", "How new technologies change the world"], field: "multi" },
      { q: "You’re part of a college fest. What’s your ideal role?", type: "choice", options: ["Handling budget and reimbursement", "Managing online registration systems or analytics"], field: "multi" },
      { q: "Which of these excites you more as a future path?", type: "choice", options: ["Audit or tax consultancy", "Fintech product development or data insight"], field: "multi" },
      { q: "You enjoy when…", type: "choice", options: ["The numbers tally perfectly in a project", "You automate a task with tech or shortcut"], field: "multi" },
      { q: "What motivates you more?", type: "choice", options: ["Stability and detail-oriented work", "Fast-paced innovation and change"], field: "multi" },
      { q: "Which tool would you love to master?", type: "choice", options: ["Tally or taxation software", "Power BI or Tableau"], field: "multi" },
      { q: "Which sounds like a dream career to you?", type: "choice", options: ["Becoming a government auditor or enrolled agent", "Creating a financial app that millions use"], field: "multi" },
      { q: "You are helping a friend. What’s your approach?", type: "choice", options: ["Teach how to calculate tax refund", "Show how to use a budgeting app"], field: "multi" },
    ];

    const scores = { accounting: 0, fintech: 0 };

    const form = document.getElementById("quiz");
    const resultEl = document.getElementById("result");
    const progressBar = document.getElementById("progressBar");
    const counter = document.getElementById("counter");
    const startBtn = document.getElementById("startBtn");

    let currentQuestionIndex = 0;

    startBtn.onclick = () => {
      startBtn.style.display = "none";
      form.style.display = "block";
      loadQuestions();
    };

    function loadQuestions() {
      quizData.forEach((item, index) => {
        const qWrapper = document.createElement("div");
        qWrapper.className = "bg-gray-50 p-4 rounded-xl shadow";
        qWrapper.style.display = index === 0 ? "block" : "none";

        const qTitle = document.createElement("h3");
        qTitle.className = "text-lg font-semibold mb-3";
        qTitle.textContent = `Q${index + 1}. ${item.q}`;
        qWrapper.appendChild(qTitle);

        if (item.type === "choice") {
          item.options.forEach((opt, idx) => {
            const label = document.createElement("label");
            label.className = "block mb-2";
            label.innerHTML = `<input type="radio" name="q${index}" value="${idx}" class="mr-2"> ${opt}`;
            qWrapper.appendChild(label);
          });
        }

        const nextBtn = document.createElement("button");
        nextBtn.textContent = index === quizData.length - 1 ? "Submit" : "Next";
        nextBtn.className = "mt-4 bg-blue-500 text-white py-2 px-4 rounded";
        nextBtn.onclick = (e) => {
          e.preventDefault();
          const inputs = qWrapper.querySelectorAll("input");
          let answered = false;
          inputs.forEach(input => {
            if (input.checked) answered = true;
          });
          if (!answered) {
            alert("Please answer the question before continuing.");
            return;
          }

          form.children[currentQuestionIndex].style.display = "none";
          currentQuestionIndex++;

          if (currentQuestionIndex < quizData.length) {
            form.children[currentQuestionIndex].style.display = "block";
            progressBar.style.width = `${(currentQuestionIndex / quizData.length) * 100}%`;
            counter.textContent = `${currentQuestionIndex + 1} / ${quizData.length}`;
          } else {
            evaluateQuiz();
          }
        };
        qWrapper.appendChild(nextBtn);

        form.appendChild(qWrapper);
      });
      progressBar.style.width = `0%`;
      counter.textContent = `1 / ${quizData.length}`;
    }

    function evaluateQuiz() {
      const inputs = form.elements;
      quizData.forEach((item, index) => {
        const val = inputs[`q${index}`].value;
        const value = parseInt(val);
        const field = item.field;

        if (field === "multi") {
          if (value === 0) scores.accounting++;
          else if (value === 1) scores.fintech++;
        }
      });

      showResult();
    }

    function showResult() {
      form.style.display = "none";
      progressBar.style.width = '100%';
      counter.textContent = `${quizData.length} / ${quizData.length}`;

      const packages = {
        accounting: "₹5–10 LPA (ICAI, 2024)",
        fintech: "₹6–14 LPA (Naukri, 2024)"
      };

      const careers = {
        accounting: "Auditor, Chartered Accountant, Enrolled Agent",
        fintech: "Fintech Analyst, Data Analyst, UPI Product Strategist"
      };

      const emojis = {
        accounting: "🧾",
        fintech: "📱"
      };

      const adjectives = {
        accounting: "detail-oriented, reliable, and principled",
        fintech: "curious, innovative, and tech-savvy"
      };

      const diff = Math.abs(scores.accounting - scores.fintech);
      let topFields;
      let summaryText = "";

      if (diff <= 2) {
        topFields = ["accounting", "fintech"];
        summaryText = "You seem to enjoy both structure and innovation — traits that make you versatile and adaptable. Explore internships in both fields and decide what suits your style best.";
      } else {
        topFields = scores.accounting > scores.fintech ? ["accounting"] : ["fintech"];
        const chosen = topFields[0];
        summaryText = `Your results show you're <strong class="text-blue-600">${adjectives[chosen]}</strong>, making you naturally fit for <strong class="text-blue-600">${chosen.toUpperCase()}</strong>. Dive deeper into this field and explore online courses, certifications, or mentorships.`;
      }

      resultEl.innerHTML = `
        <div class="bg-white p-6 rounded-xl shadow-xl space-y-4">
          <h2 class="text-2xl font-bold">🚀 You're Commerce-Ready!</h2>
          <ol class="list-decimal list-inside space-y-2">
            ${topFields.map(field => `
              <li><strong class="text-blue-600">${emojis[field]} ${field.toUpperCase()}</strong><br>
                🧠 Skills: ${adjectives[field]}<br>
                🔍 Top Careers: ${careers[field]}<br>
                💰 Average Package: ${packages[field]}</li>
            `).join('')}
          </ol>
          <p class="text-sm text-gray-700">${summaryText}</p>
          <button onclick="location.reload()" class="w-full py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition">🔁 Take Again</button>
        </div>
      `;
    }
  </script>
</body>

</html>
