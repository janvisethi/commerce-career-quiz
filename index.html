<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Commerce Career Quiz</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">
  <div class="max-w-xl mx-auto p-6">
    <div class="bg-white rounded-2xl shadow-xl p-6 relative mb-6">
      <div id="progressBar" class="h-2 bg-blue-500 transition-all duration-300 rounded-full" style="width: 0%"></div>
      <div id="counter" class="absolute top-4 right-6 text-sm text-gray-600"></div>
      <button id="startBtn" class="w-full py-3 bg-blue-600 text-white text-lg rounded-xl hover:bg-blue-700 transition">Start Quiz</button>
      <form id="quiz" class="hidden space-y-10"></form>
    </div>

    <div id="result" class="text-gray-800"></div>
  </div>

  <script>
    const quizData = [
      { q: "What’s your go-to role in a group project?", type: "choice", options: ["Planning and setting goals (Finance)", "Designing the presentation or posters (Marketing)", "Assigning tasks and resolving disputes (HR)", "Researching rules and regulations (Law)"], field: "multi" },
      { q: "Which of these sounds most interesting to you?", type: "choice", options: ["Tracking market trends and investments", "Running a social media campaign", "Building a strong team and culture", "Reviewing contracts and business laws"], field: "multi" },
      { q: "You are asked to lead a club in college. What would be your first step?", type: "choice", options: ["Set a clear budget and financial goals", "Brand it with a cool name and logo", "Assign roles and build a team", "Ensure all rules and policies are followed"], field: "multi" },
      { q: "Which school activity do you enjoy the most?", type: "choice", options: ["Math Olympiads or finance quizzes", "Poster-making or advertisement creation", "Organizing events or managing volunteers", "Debating on laws or writing essays on rights"], field: "multi" },
      { q: "If given a budget of ₹10,000 for a college fest, what would you do?", type: "choice", options: ["Plan expenses and track ROI", "Design posters and promote online", "Hire volunteers and create schedules", "Get permissions and legal approvals"], field: "multi" },
      { q: "What kind of news excites you the most?", type: "choice", options: ["Stock market and budget updates", "Marketing trends and brand campaigns", "Job hiring trends and HR policies", "Supreme Court decisions or new laws"], field: "multi" },
      { q: "Which app do you use the most (or enjoy)?", type: "choice", options: ["Zerodha or Moneycontrol", "Instagram or Canva", "Notion or Trello", "LiveLaw or Bar & Bench"], field: "multi" },
      { q: "What motivates you the most in a career?", type: "choice", options: ["Financial growth and wealth creation", "Creativity and public influence", "Team success and building people", "Justice and doing the right thing"], field: "multi" },
      { q: "You have 2 hours free at college. What would you prefer to do?", type: "choice", options: ["Watch finance YouTube channels", "Edit reels or design social content", "Volunteer in student council work", "Read up on constitutional rights"], field: "multi" },
      { q: "Which course would you prefer to take next semester?", type: "choice", options: ["Investment & Portfolio Management", "Digital Marketing", "Organizational Behavior", "Business & Corporate Law"], field: "multi" },
    ];

    const scores = { finance: 0, marketing: 0, hr: 0, law: 0, general: 0 };

    const form = document.getElementById("quiz");
    const resultEl = document.getElementById("result");
    const progressBar = document.getElementById("progressBar");
    const counter = document.getElementById("counter");
    const startBtn = document.getElementById("startBtn");

    let currentQuestionIndex = 0;

    startBtn.onclick = () => {
      startBtn.style.display = "none";
      form.style.display = "block";
      loadQuestions();
    };

    function loadQuestions() {
      quizData.forEach((item, index) => {
        const qWrapper = document.createElement("div");
        qWrapper.className = "bg-gray-50 p-4 rounded-xl shadow";
        qWrapper.style.display = index === 0 ? "block" : "none";

        const qTitle = document.createElement("h3");
        qTitle.className = "text-lg font-semibold mb-3";
        qTitle.textContent = `Q${index + 1}. ${item.q}`;
        qWrapper.appendChild(qTitle);

        if (item.type === "choice") {
          item.options.forEach((opt, idx) => {
            const label = document.createElement("label");
            label.className = "block mb-2";
            label.innerHTML = `<input type="radio" name="q${index}" value="${idx}" class="mr-2"> ${opt}`;
            qWrapper.appendChild(label);
          });
        }

        const nextBtn = document.createElement("button");
        nextBtn.textContent = index === quizData.length - 1 ? "Submit" : "Next";
        nextBtn.className = "mt-4 bg-blue-500 text-white py-2 px-4 rounded";
        nextBtn.onclick = (e) => {
          e.preventDefault();
          const inputs = qWrapper.querySelectorAll("input");
          let answered = false;
          inputs.forEach(input => {
            if (input.checked) answered = true;
          });
          if (!answered) {
            alert("Please answer the question before continuing.");
            return;
          }

          form.children[currentQuestionIndex].style.display = "none";
          currentQuestionIndex++;

          if (currentQuestionIndex < quizData.length) {
            form.children[currentQuestionIndex].style.display = "block";
            progressBar.style.width = `${(currentQuestionIndex / quizData.length) * 100}%`;
            counter.textContent = `${currentQuestionIndex + 1} / ${quizData.length}`;
          } else {
            evaluateQuiz();
          }
        };
        qWrapper.appendChild(nextBtn);

        form.appendChild(qWrapper);
      });
      progressBar.style.width = `0%`;
      counter.textContent = `1 / ${quizData.length}`;
    }

    function evaluateQuiz() {
      const inputs = form.elements;
      quizData.forEach((item, index) => {
        const val = inputs[`q${index}`].value;
        const value = parseInt(val);
        const field = item.field;

        if (field === "multi") {
          if (value === 0) scores.finance++;
          else if (value === 1) scores.marketing++;
          else if (value === 2) scores.hr++;
          else if (value === 3) scores.law++;
        }
      });

      showResult();
    }

    function showResult() {
      form.style.display = "none";
      progressBar.style.width = '100%';
      counter.textContent = `${quizData.length} / ${quizData.length}`;

      const topFields = Object.entries(scores)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 3)
        .map(([field]) => field);

      const packages = {
        finance: "₹6–12 LPA (Source: Naukri, 2024)",
        marketing: "₹5–10 LPA (Source: AmbitionBox, 2024)",
        hr: "₹4–8 LPA (Source: Glassdoor, 2024)",
        law: "₹5–9 LPA (Source: Indeed, 2024)",
        general: "₹4–10 LPA depending on specialization"
      };

      const careers = {
        finance: "Chartered Accountant, Investment Banker, Financial Analyst",
        marketing: "Brand Manager, Digital Marketer, Market Researcher",
        hr: "HR Manager, Talent Acquisition, Organizational Consultant",
        law: "Corporate Lawyer, Compliance Officer, Legal Advisor",
        general: "Entrepreneur, Management Consultant, Business Analyst"
      };

      const avatars = {
        finance: "📊",
        marketing: "🎨",
        hr: "🤝",
        law: "⚖️",
        general: "💼"
      };

      resultEl.innerHTML = `
        <div class="bg-white p-6 rounded-xl shadow-xl space-y-4">
          <h2 class="text-2xl font-bold">🎯 Your Top 3 Suggested Commerce Career Paths:</h2>
          <ol class="list-decimal list-inside space-y-2">
            ${topFields.map(field => `
              <li><strong class="text-blue-600">${avatars[field]} ${field.toUpperCase()}</strong><br>
                🚀 Careers: ${careers[field]}<br>
                💰 Avg Salary: ${packages[field]}</li>
            `).join('')}
          </ol>
          <p class="text-sm text-gray-600">✨ Ready to explore these career paths? Consider internships, online courses, or mentorship in these areas!</p>
          <button onclick="location.reload()" class="w-full py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition">🔁 Restart Quiz</button>
        </div>
      `;
    }
  </script>
</body>

</html>
